DROP TABLE IF EXISTS `sd_drug_opd`;
CREATE TABLE `sd_drug_opd` (
  `HOSPCODE` varchar(5) NOT NULL,
  `PID` varchar(15) NOT NULL,
  `SEQ` varchar(16) NOT NULL,
  `DATE_SERV` date NOT NULL,
  `CLINIC` varchar(5) NOT NULL,
  `DIDSTD` varchar(24) NOT NULL,
  `DNAME` varchar(255) DEFAULT NULL,
  `AMOUNT` int(12) DEFAULT NULL,
  `UNIT` varchar(3) DEFAULT NULL,
  `UNIT_PACKING` varchar(20) DEFAULT NULL,
  `DRUGPRICE` decimal(11,2) DEFAULT NULL,
  `DRUGCOST` decimal(11,2) DEFAULT NULL,
  `PROVIDER` varchar(15) DEFAULT NULL,
  `D_UPDATE` datetime NOT NULL,
  PRIMARY KEY (`HOSPCODE`,`PID`,`SEQ`,`DATE_SERV`,`DIDSTD`),
  KEY `idx1` (`HOSPCODE`,`PID`),
  KEY `idx2` (`DATE_SERV`),
  KEY `idx3` (`HOSPCODE`),
  KEY `idx4` (`DIDSTD`),
  KEY `idx5` (`HOSPCODE`,`PROVIDER`),
  KEY `idx6` (`PID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
/*!50100 PARTITION BY RANGE ( TO_DAYS(`DATE_SERV`))
(PARTITION p2012 VALUES LESS THAN (735050) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (735415) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (735780) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (736145) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (736511) ENGINE = InnoDB,
 PARTITION now VALUES LESS THAN MAXVALUE ENGINE = InnoDB) */;
